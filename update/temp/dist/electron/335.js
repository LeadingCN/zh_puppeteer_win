(global.webpackChunkwinbotim=global.webpackChunkwinbotim||[]).push([[335],{5874:(e,t,s)=>{var a=s(8081),i=s(3645)(a);i.push([e.id,"*{box-sizing:border-box;margin:0;padding:0}body{font-family:Source Sans Pro,sans-serif}#wrapper{padding:60px 80px}#logo{height:auto;margin-bottom:20px;width:420px}main{display:flex;justify-content:space-between}main>div{flex-basis:50%}.left-side{display:flex;flex-direction:column}.welcome{color:#555;font-size:23px;margin-bottom:10px}.title{color:#2c3e50;font-size:20px;font-weight:700;margin-bottom:6px}.title.alt{font-size:18px;margin-bottom:10px}.doc{margin-bottom:10px}.doc p{color:#000;margin-bottom:10px}.doc .el-button{margin-top:10px;margin-right:10px}.doc .el-button+.el-button{margin-left:0}.conten{text-align:center}\n",""]),e.exports=i},8154:(e,t,s)=>{var a=s(8081),i=s(3645)(a);i.push([e.id,".title[data-v-9349ef08]{color:#888;font-size:18px;font-weight:initial;letter-spacing:.25px;margin-top:10px}.items[data-v-9349ef08]{margin-top:8px}.item[data-v-9349ef08]{display:flex;align-items:center;margin-bottom:6px;line-height:24px}.item .name[data-v-9349ef08]{color:#6a6a6a;margin-right:6px}.item .value[data-v-9349ef08]{color:#35495e;font-weight:700}\n",""]),e.exports=i},1335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(2037);const i={data:()=>({}),computed:{tips(){return[{name:this.$i18n.t("about.language"),value:this.$i18n.t("about.languageValue")},{name:this.$i18n.t("about.currentPagePath"),value:this.$route.path},{name:this.$i18n.t("about.currentPageName"),value:this.$route.name},{name:this.$i18n.t("about.vueVersion"),value:s(7886).i8},{name:this.$i18n.t("about.electronVersion"),value:process.versions.electron||"浏览器环境"},{name:this.$i18n.t("about.nodeVersion"),value:process.versions.node||"浏览器环境"},{name:this.$i18n.t("about.systemPlatform"),value:(0,a.platform)()},{name:this.$i18n.t("about.systemVersion"),value:(0,a.release)()},{name:this.$i18n.t("about.systemArch"),value:(0,a.arch)()+"位"},{name:this.$i18n.t("about.currentEnvironment"),value:"production"}]}},mounted(){}};s(7072);var n=s(1900);const r=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v(e._s(e.$t("about.system")))]),e._v(" "),s("div",{staticClass:"items"},e._l(e.tips,(function(t,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"name",domProps:{textContent:e._s(t.name)}}),e._v(" "),s("div",{staticClass:"value",domProps:{textContent:e._s(t.value)}})])})),0)])}),[],!1,null,"9349ef08",null).exports;var o=s(787),c=s(2298);const l={name:"landing-page",components:{SystemInformation:r},data:()=>({appversion:"",apppath:"",newdata:{name:"yyy",age:"12"},logo:s(7386),textarray:[],percentage:0,colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#6f7ad3",percentage:60},{color:"#1989fa",percentage:80},{color:"#5cb87a",percentage:100}],dialogVisible:!1,progressStaus:null,filePath:"",userPath:"",secret:""}),async created(){const{version:e,path:t}=await c.ipcRenderer.invoke("get-app-info");this.appversion=e,this.apppath=t;await c.ipcRenderer.invoke("hot-update");let s=await c.ipcRenderer.invoke("userPath",{action:"get"});s&&s.path&&(this.userPath=s.path);let a=await c.ipcRenderer.invoke("config",{action:"getsecret"});a&&a.secret&&(this.secret=a.secret),c.ipcRenderer.on("download-progress",((e,t)=>{this.percentage=Number(t)})),c.ipcRenderer.on("download-error",((e,t)=>{t&&(this.progressStaus="exception",this.percentage=40,this.colors="#d81e06")})),c.ipcRenderer.on("download-paused",((e,t)=>{t&&(this.progressStaus="warning",this.$alert("下载由于未知原因被中断！","提示",{confirmButtonText:"重试",callback:e=>{c.ipcRenderer.invoke("satrt-download")}}))})),c.ipcRenderer.on("download-done",((e,t)=>{this.filePath=t.filePath,this.progressStaus="success",this.$alert("更新下载完成！","提示",{confirmButtonText:"确定",callback:e=>{c.shell.openPath(this.filePath)}})})),c.ipcRenderer.on("update-msg",((e,t)=>{switch(t.state){case-1:const e={title:"发生错误",message:t.msg};this.dialogVisible=!1,c.ipcRenderer.invoke("open-errorbox",e);break;case 0:this.$message("正在检查更新");break;case 1:this.$message({type:"success",message:"已检查到新版本，开始下载"}),this.dialogVisible=!0;break;case 2:this.$message({type:"success",message:"无新版本"});break;case 3:this.percentage=t.msg.percent.toFixed(1);break;case 4:this.progressStaus="success",this.$alert("更新下载完成！","提示",{confirmButtonText:"确定",callback:e=>{c.ipcRenderer.invoke("confirm-update")}})}})),c.ipcRenderer.on("hot-update-status",((e,t)=>{"finished"===t.status&&this.$message({type:"success",message:"热更新成功"}),"downloading"===t.status&&this.$message({type:"success",message:"下载中"}),"moving"===t.status&&this.$message({type:"success",message:"迁移中"}),"moving-node_modules"===t.status&&this.$message({type:"success",message:"迁移中模块"}),"moving-package"===t.status&&this.$message({type:"success",message:"迁移中pack文件"}),"extracting"===t.status&&this.$message({type:"success",message:"解压中"}),"remove"===t.status&&this.$message({type:"success",message:"删除旧文件"})}))},methods:{openNewWin(){c.ipcRenderer.invoke("open-win",{url:"/form/index",resizable:!0})},openDocument(){c.shell.openExternal("https://zh-sky.gitee.io/electron-vue-template-doc/Overview/#%E5%8A%9F%E8%83%BD")},getMessage(){(0,o.yw)().then((e=>{this.$alert(e.data,"提示",{confirmButtonText:"确定"})}))},StopServer(){c.ipcRenderer.invoke("stop-server").then((e=>{this.$message({type:"success",message:"已关闭"})}))},StartServer(){c.ipcRenderer.invoke("statr-server").then((e=>{e&&this.$message({type:"success",message:e})}))},open(){},CheckUpdate(e){switch(e){case"one":c.ipcRenderer.invoke("check-update").then((e=>{}));break;case"two":c.ipcRenderer.invoke("start-download").then((()=>{this.dialogVisible=!0}))}},handleClose(){this.dialogVisible=!1},changeLanguage(){let e="zh-CN"===this.$i18n.locale?"en":"zh-CN";this.$i18n.locale=e},async saveUserPath(){await c.ipcRenderer.invoke("userPath",{action:"set",path:this.userPath})&&this.$message.success("保存成功")},async savesecret(){await c.ipcRenderer.invoke("config",{action:"savesecret",key:this.secret})?this.$message.success("保存成功"):this.$message.error("保存失败")}},destroyed(){c.ipcRenderer.removeAllListeners("confirm-message"),c.ipcRenderer.removeAllListeners("download-done"),c.ipcRenderer.removeAllListeners("download-paused"),c.ipcRenderer.removeAllListeners("confirm-stop"),c.ipcRenderer.removeAllListeners("confirm-start"),c.ipcRenderer.removeAllListeners("confirm-download"),c.ipcRenderer.removeAllListeners("download-progress"),c.ipcRenderer.removeAllListeners("download-error"),c.ipcRenderer.removeAllListeners("update-msg")},computed:{text(){return this.$i18n.t("waitDataLoading")}}};s(362);const p=(0,n.Z)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wrapper"}},[s("H1",[e._v("\n    欢迎回来\n    "+e._s(e.appname)+"\n    "+e._s(e.appversion)+"\n    "+e._s(e.apppath)+"\n  ")]),e._v(" "),s("div",{staticStyle:{width:"auto","margin-left":"20px"}},[s("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"账号信息路径"},model:{value:e.userPath,callback:function(t){e.userPath=t},expression:"userPath"}}),e._v(" "),s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.saveUserPath()}}},[e._v("\n      保存账号信息路径\n    ")])],1),e._v(" "),s("div",{staticStyle:{width:"auto","margin-left":"20px"}},[s("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"CDKEY"},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}}),e._v(" "),s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.savesecret()}}},[e._v("\n      保存CDKEY\n    ")])],1)],1)}),[],!1,null,null,null).exports},362:(e,t,s)=>{var a=s(5874);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(5346).Z)("193389f0",a,!0,{})},7072:(e,t,s)=>{var a=s(8154);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(5346).Z)("b325808a",a,!0,{})},7386:(e,t,s)=>{"use strict";e.exports=s.p+"imgs/logo--2e4f037242ebe461279e..png"},7886:e=>{"use strict";e.exports={i8:"2.7.10"}}}]);